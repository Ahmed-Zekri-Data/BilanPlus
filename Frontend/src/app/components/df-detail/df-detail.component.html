<div class="details-container">
  <h2>DÉTAILS DE LA DÉCLARATION FISCALE</h2>

  <div class="details-content" *ngIf="!isLoading; else loading">
    <div *ngIf="declaration; else noData">
     
      <div class="detail-item">
        <span class="label">Période :</span>
        <span class="value">{{ formatPeriode(declaration.periode) }}</span>
      </div>
      <div class="detail-item">
        <span class="label">Montant Total :</span>
        <span class="value">{{ declaration.montantTotal | number:'1.2-2' }} TND</span> <!-- Changé de € à TND -->
      </div>
      <div class="detail-item">
        <span class="label">Statut :</span>
        <span class="value">{{ declaration.statut }}</span>
      </div>
      <div class="detail-item">
        <span class="label">Compte Comptable :</span>
        <span class="value" *ngIf="compteComptable; else compteLoading">
          {{ getCompteComptableName(compteComptable) }} <!-- Afficher uniquement le nom -->
        </span>
        <ng-template #compteLoading>
          <span>Chargement des détails du compte comptable...</span>
        </ng-template>
      </div>
    </div>

    <ng-template #noData>
      <p class="no-data">Aucune donnée disponible pour cette déclaration.</p>
    </ng-template>
  </div>

  <ng-template #loading>
    <p class="loading" *ngIf="errorMessage; else spinner">{{ errorMessage }}</p>
    <ng-template #spinner>
      <p class="loading">Chargement des détails de la déclaration...</p>
    </ng-template>
  </ng-template>

  <div class="actions">
    <button mat-raised-button color="primary" (click)="editDeclaration()">MODIFIER</button>
    <button mat-raised-button color="primary" (click)="goBack()">RETOUR À LA LISTE</button>
  </div>
</div>